from decimal import Decimal, getcontext

getcontext().prec = 1004

results = {}

def get_p(n):
    n = int(n) if n else 0
    if n < 10:
        return Decimal(0)
    elif n == 10:
        return Decimal(0.5) ** 10
    else:
        if n in results:
            return results[n]
        else:
            temp = get_p(n - 1) + (Decimal(1) - get_p(n - 11)) / (2 ** 11)
            results[n] = temp
            return temp

print(get_p(1000))
# 0.3854497524124816359103324431893139996231671379936081129174383900956154754297911942715784382052656133733170412885759335901218602818457063237308169559383426261043958668169906629356523278889999508869850681640950594075429557506086541357680134905744059679245022354055348096181375093306885450817625975991957447724973697303682093053320025226529618895121118303216346551247229045302286904761836610011741326756113063909853973970625467928230836129669052106580210946781082049075901845101786536648508717273289305872630097610763714032146890118601870301274271801660480806542686802950176764093225270147671654794684840592841348391874327773359104354777299521641373989305579823173762887778360794693399378813103890318355267148080577522416201913495854783973990017784168283645041038447261842318409059416253750151424486387190283054162372799865682502413519911288868159111110561378534754885639398119305531261525016866666202683133284022694206845845222134985007340053439085168421798636463615483904732172959484159946441650390625
matrix = [
  [Decimal('0.5'), Decimal('0.5'), Decimal('0.5'), Decimal('0.5'), Decimal('0.5'), Decimal('0.5'), Decimal('0.5'), Decimal('0.5'), Decimal('0.5'), Decimal('0.5'), Decimal('0')],
  [Decimal('0.5'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0')],
  [Decimal('0'), Decimal('0.5'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0')],
  [Decimal('0'), Decimal('0'), Decimal('0.5'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0')],
  [Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0.5'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0')],
  [Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0.5'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0')],
  [Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0.5'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0')],
  [Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0.5'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0')],
  [Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0.5'), Decimal('0'), Decimal('0'), Decimal('0')],
  [Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0.5'), Decimal('0'), Decimal('0')],
  [Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0.5'), Decimal('1')]
]

def mySum(a, b):
  return sum(x * y for x, y in zip(a, b))

def repeat(n):
  state = [Decimal('1'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0'), Decimal('0')]
  for _ in range(int(n)):
    copy = state[:]
    state = [mySum(copy, matrix[i]) for i in range(len(matrix))]
  return state

print(repeat(1000)[10])
# 0.3854497524124816359103324431893139996231671379936081129174383900956154754297911942715784382052656133733170412885759335901218602818457063237308169559383426261043958668169906629356523278889999508869850681640950594075429557506086541357680134905744059679245022354055348096181375093306885450817625975991957447724973697303682093053320025226529618895121118303216346551247229045302286904761836610011741326756113063909853973970625467928230836129669052106580210946781082049075901845101786536648508717273289305872630097610763714032146890118601870301274271801660480806542686802950176764093225270147671654794684840592841348391874327773359104354777299521641373989305579823173762887778360794693399378813103890318355267148080577522416201913495854783973990017784168283645041038447261842318409059416253750151424486387190283054162372799865682502413519911288868159111110561378534754885639398119305531261525016866666202683133284022694206845845222134985007340053439085168421798636463615483904732172959484159946441650390625